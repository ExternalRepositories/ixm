include_guard(GLOBAL)

function (ixm_color_add name r g b)
  set_property(GLOBAL PROPERTY ixm::color::${name} ${r} ${g} ${b})
  set_property(GLOBAL APPEND PROPERTY ixm::colors ${name})
endfunction ()

function (ixm_color_initialize)
  set(conemu OFF)
  if (DEFINED ENV{ConEmuANSI})
    set(conemu $ENV{ConEmuANSI})
  endif()
  if (WIN32 AND NOT conemu AND NOT CMAKE_GENERATOR STREQUAL "Ninja")
    return()
  endif()
  string(ASCII 27 esc)
  get_property(colors GLOBAL PROPERTY ixm::colors)
  foreach (color IN LISTS colors)
    get_property(values GLOBAL PROPERTY ixm::color::${color})
    set(.${color} "${esc}[38;2;${values}m" CACHE INTERNAL "")
  endforeach()
  set(.default "${esc}[m" CACHE INTERNAL "")
endfunction()

ixm_color_add(alice-blue 240 248 255)
ixm_color_add(antique-white 250 253 215)
ixm_color_add(aqua 0 255 255)
ixm_color_add(aquamarine 127 255 212)
ixm_color_add(azure 240 255 255)
ixm_color_add(beige 245 245 220)
ixm_color_add(bisque 255 228 196)
ixm_color_add(black 0 0 0)
ixm_color_add(blanched-almond 255 235 205)
ixm_color_add(blue 0 0 255)
ixm_color_add(blue-violet 138 43 226)
ixm_color_add(brown 165 42 42)
ixm_color_add(burly-wood 222 184 135)
ixm_color_add(cadet-blue 95 158 160)
ixm_color_add(chartreuse 127 255 0)
ixm_color_add(chocolate 210 105 30)
ixm_color_add(coral 255 127 80)
ixm_color_add(cornflower-blue 100 149 237)
ixm_color_add(cornsilk 255 248 220)
ixm_color_add(crimson 220 20 60)
ixm_color_add(cyan 0 255 255)
ixm_color_add(dark-blue 0 0 139)
ixm_color_add(dark-cyan 0 139 139)
ixm_color_add(dark-golden-rod 184 134 11)
ixm_color_add(dark-gray 169 169 169)
ixm_color_add(dark-green 0 100 0)
ixm_color_add(dark-khaki 189 183 107)
ixm_color_add(dark-magenta 139 0 139)
ixm_color_add(dark-olive-green 85 107 47)
ixm_color_add(dark-orange 255 140 0)
ixm_color_add(dark-orchid 153 50 204)
ixm_color_add(dark-red 139 0 0)
ixm_color_add(dark-salmon 233 150 122)
ixm_color_add(dark-sea-green 143 188 143)
ixm_color_add(dark-slate-blue 72 61 139)
ixm_color_add(dark-slate-gray 47 79 79)
ixm_color_add(dark-turquoise 0 206 209)
ixm_color_add(dark-violet 148 0 211)
ixm_color_add(deep-pink 255 20 147)
ixm_color_add(deep-sky-blue 0 191 255)
ixm_color_add(dim-gray 105 105 105)
ixm_color_add(dodger-blue 30 144 255)
ixm_color_add(fire-brick 178 34 34)
ixm_color_add(floral-white 255 250 240)
ixm_color_add(forest-green 34 139 34)
ixm_color_add(fuchsia 255 0 255)
ixm_color_add(gainsboro 220 220 220)
ixm_color_add(ghost-white 248 248 255)
ixm_color_add(gold 255 215 0)
ixm_color_add(golden-rod 218 165 32)
ixm_color_add(gray 128 128 128)
ixm_color_add(green 0 128 0)
ixm_color_add(green-yellow 173 255 47)
ixm_color_add(honey-dew 240 255 240)
ixm_color_add(hot-pink 255 105 180)
ixm_color_add(indian-red 205 92 92)
ixm_color_add(indigo 75 0 130)
ixm_color_add(ivory 255 255 240)
ixm_color_add(khaki 240 230 140)
ixm_color_add(lavender 230 230 250)
ixm_color_add(lavender-blush 255 240 245)
ixm_color_add(lawn-green 124 252 0)
ixm_color_add(lemon-chiffon 255 250 205)
ixm_color_add(light-blue 173 216 230)
ixm_color_add(light-coral 240 128 128)
ixm_color_add(light-cyan 224 255 255)
ixm_color_add(light-golden-rod-yellow 250 250 210)
ixm_color_add(light-gray 211 211 211)
ixm_color_add(light-green 144 238 144)
ixm_color_add(light-pink 255 182 193)
ixm_color_add(light-salmon 255 160 122)
ixm_color_add(light-sea-green 32 178 170)
ixm_color_add(light-sky-blue 135 206 250)
ixm_color_add(light-slate-gray 119 136 153)
ixm_color_add(light-steel-blue 176 196 222)
ixm_color_add(light-yellow 255 255 224)
ixm_color_add(lime 0 255 0)
ixm_color_add(lime-green 50 205 50)
ixm_color_add(linen 250 240 230)
ixm_color_add(magenta 255 0 255)
ixm_color_add(maroon 128 0 0)
ixm_color_add(medium-aquamarine 102 205 170)
ixm_color_add(medium-blue 0 0 205)
ixm_color_add(medium-orchid 186 85 211)
ixm_color_add(medium-purple 147 112 219)
ixm_color_add(medium-sea-green 60 179 113)
ixm_color_add(medium-slate-blue 123 104 238)
ixm_color_add(medium-spring-green 0 250 154)
ixm_color_add(medium-turquoise 72 209 204)
ixm_color_add(medium-violet-red 199 21 133)
ixm_color_add(midnight-blue 25 25 112)
ixm_color_add(mint-cream 245 255 250)
ixm_color_add(misty-rose 255 228 225)
ixm_color_add(moccasin 255 228 181)
ixm_color_add(navajo-white 255 222 173)
ixm_color_add(navy 0 0 128)
ixm_color_add(old-lace 253 245 230)
ixm_color_add(olive 128 128 0)
ixm_color_add(olive-drab 107 142 35)
ixm_color_add(orange 255 165 0)
ixm_color_add(orange-red 255 69 0)
ixm_color_add(orchid 218 112 214)
ixm_color_add(pale-golden-rod 238 232 170)
ixm_color_add(pale-green 152 251 152)
ixm_color_add(pale-turquoise 175 238 238)
ixm_color_add(pale-violet-red 219 112 147)
ixm_color_add(papaya-whip 255 239 213)
ixm_color_add(peach-puff 255 218 185)
ixm_color_add(peru 205 133 63)
ixm_color_add(pink 255 192 203)
ixm_color_add(plum 221 160 221)
ixm_color_add(powder-blue 176 224 230)
ixm_color_add(purple 128 0 128)
ixm_color_add(rebecca-purple 102 51 153)
ixm_color_add(red 255 0 0)
ixm_color_add(rosy-brown 188 143 143)
ixm_color_add(royal-blue 65 105 225)
ixm_color_add(saddle-brown 139 69 19)
ixm_color_add(salmon 250 128 114)
ixm_color_add(sandy-brown 244 164 96)
ixm_color_add(sea-green 46 139 87)
ixm_color_add(sea-shell 255 245 238)
ixm_color_add(sienna 160 82 45)
ixm_color_add(silver 192 192 192)
ixm_color_add(sky-blue 135 206 235)
ixm_color_add(slate-blue 106 90 205)
ixm_color_add(slate-gray 112 128 144)
ixm_color_add(snow 255 250 250)
ixm_color_add(spring-green 0 255 127)
ixm_color_add(steel-blue 70 130 180)
ixm_color_add(tan 210 180 140)
ixm_color_add(teal 0 128 128)
ixm_color_add(thistle 216 191 216)
ixm_color_add(tomato 255 99 71)
ixm_color_add(turquoise 64 224 208)
ixm_color_add(violet 238 130 238)
ixm_color_add(wheat 245 222 179)
ixm_color_add(white 255 255 255)
ixm_color_add(white-smoke 245 245 245)
ixm_color_add(yellow 255 255 0)
ixm_color_add(yellow-green 154 205 50)

ixm_color_initialize()