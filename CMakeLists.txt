set(IXM_ROOT "${CMAKE_CURRENT_LIST_DIR}" CACHE INTERNAL "IXM installation root")
set(IXM_MODULE_ROOT "${IXM_ROOT}/Modules" CACHE INTERNAL "Root module for IXM")
include("${IXM_ROOT}/Modules/Common/Import.cmake")
import(IXM::API::*)

if (DEFINED CMAKE_TOOLCHAIN_FILE OR NOT IXM_CUSTOM_TOOLCHAINS)
  return()
endif()

if (CMAKE_SYSTEM_NAME STREQUAL "QNX")
  set(CMAKE_TOOLCHAIN_FILE "${IXM_ROOT}/Toolchains/QNX.cmake")
elseif (CMAKE_SYSTEM_NAME STREQUAL "RPi" OR CMAKE_SYSTEM_NAME STREQUAL "RaspberryPi")
  set(CMAKE_TOOLCHAIN_FILE "${IXM_ROOT}/Toolchains/RaspberryPi.cmake")
elseif (CMAKE_SYSTEM_NAME STREQUAL "Arduino")
  set(CMAKE_TOOLCHAIN_FILE "${IXM_ROOT}/Toolchains/Arduino.cmake")
endif()